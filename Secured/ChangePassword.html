<!DOCTYPE html>
<html>
<head>
<title>ADE</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="../styles/helpview.css">
<link rel="stylesheet" type="text/css" href="../styles/login.css">
<script type="text/javascript" src="../js/Init.js"></script>
<script type="text/javascript" src="../mxClient.js"></script>
<script type="text/javascript" src="../ReferenceScript/jquery.min.js"></script>
<script type="text/javascript" src="../js/Agnity/DataStructure.js"></script>
<script type="text/javascript" src="../js/Agnity/ConfigUtil.js"></script>
<script type="text/javascript" src="../js/Agnity/PanelUtils.js"></script>
<script type="text/javascript" src="../js/Agnity/Integration.js"></script>
<script type="text/javascript" src="../js/Agnity/ChangePassword.js"></script>
<script type="text/javascript" src="../js/Agnity/Validator.js"></script>
<script type="text/javascript" src="../js/Agnity/RequestInterceptor.js"></script>

<script>
$(document).ready(function()
{

	Agnity.loadCss();
	mxResources.loadDefaultBundle = false;
	var bundle = mxResources.getDefaultBundle(LOGIN_RESOURCE, mxLanguage) ||
		mxResources.getSpecialBundle(LOGIN_RESOURCE, mxLanguage);
	
	mxUtils.getAll([bundle], function(xhr)
	{
		mxResources.parse(xhr[0].getText());

		var status =  new AgnityCheckLoginStatus();
		status.fetchData(function(response){
			var changePassword = new ChangePasswordController(JSON.parse(response.user));
			changePassword.init();
		
			var version = new AgnityGetCurrentVersionDetails();
			version.fetchData(function(response){
				if(response.length != 0)
				{	
					//changePassword.setVersionInfo(response.version);
				}
				else
				{
					console.log(mxResources.get('versionInfoError'));
				}
		  });
		});
	}, function()
	{
		document.body.innerHTML = '<center style="margin-top:10%;">Error loading resource files. Please check browser console.</center>';
	});

	
});
</script>
<style>
.UserChanagePassword
{
	height: 405px !important;
}

.UserFirstTimeChanagePassword
{
	height: 350px !important;
}

.buttonWrapper
{
	padding-top: 10px;
}
</style>
</head>
<body>
  <nav class="top_bar">
	  <div class="wrapper">
	      <img  class="logo">
	      <span class="title">
	          <span class="abbreviation">A</span>pplication
	          <span class="abbreviation">D</span>evelopment
	          <span class="abbreviation">E</span>nvironment &#8482;
	      	  <br>
<!-- 	      	  <span id="title" class="version">Version </span>
 -->	       </span>
	     
	   </div>
  </nav>
  <div id="changePasswordFormContainer" class="formcontainer">
  </div>
</body>
</html>
